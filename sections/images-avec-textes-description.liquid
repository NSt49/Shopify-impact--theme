{% comment %}
Section Shopify personnalisée : Blocs image + texte en deux colonnes (Impact)
{% endcomment %}

<div class="custom-info-section" style="margin-top: {{ section.settings.margin_top }}px; margin-bottom: {{ section.settings.margin_bottom }}px;">
  {% if section.settings.main_title != blank %}
    <h2 class="custom-section-title" style="
      text-align: {{ section.settings.title_alignment }};
      color: {{ section.settings.title_color }};
      font-size: {{ section.settings.title_size }}px;
      margin-bottom: {{ section.settings.spacing_between_blocks }}px;">
      {{ section.settings.main_title }}
    </h2>
  {% endif %}

  <div class="custom-info-wrapper">
    {% for block in section.blocks %}
      <div class="custom-info-block">
        {% if block.settings.icon != blank %}
          <div class="custom-info-image">
            <img src="{{ block.settings.icon | image_url: width: 100 }}" alt="Icône {{ forloop.index }}" loading="lazy" width="60" height="60">
          </div>
        {% endif %}
        <div class="custom-info-text">
          <h3 class="custom-info-title">{{ block.settings.title }}</h3>
          <p class="custom-info-description">{{ block.settings.text }}</p>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<style>
  .custom-info-section {
    width: 100%;
  }

  .custom-section-title {
    font-weight: 700;
    line-height: 1.2;
  }

  .custom-info-wrapper {
    display: flex;
    flex-direction: column;
    gap: {{ section.settings.spacing_between_blocks }}px;
  }

  .custom-info-block {
    display: flex;
    align-items: center;
    gap: 16px;
  }

  .custom-info-image img {
    max-width: 60px;
    height: auto;
    display: block;
  }

  .custom-info-text {
    flex: 1;
  }

  .custom-info-title {
    font-size: 16px;
    font-weight: 600;
    margin: 0 0 4px;
  }

  .custom-info-description {
    font-size: 14px;
    margin: 0;
  }

  /* Responsive : stack on mobile */
  @media screen and (min-width: 768px) {
    .custom-info-wrapper {
      flex-direction: row;
      flex-wrap: wrap;
      gap: 32px;
    }

    .custom-info-block {
      width: calc(50% - 16px);
    }
  }

  @media screen and (max-width: 767px) {
    .custom-info-block {
      flex-direction: column;
      align-items: flex-start;
      text-align: left;
    }

    .custom-info-image {
      margin-bottom: 8px;
    }
  }
</style>
{
  "name": "Blocs informatifs - image + texte",
  "max_blocks": 6,
  "settings": [
    {
      "type": "text",
      "id": "main_title",
      "label": "Titre principal",
      "default": "Pourquoi nous choisir ?"
    },
    {
      "type": "range",
      "id": "title_size",
      "label": "Taille du titre (px)",
      "min": 16,
      "max": 48,
      "step": 1,
      "default": 28
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Couleur du titre",
      "default": "#000000"
    },
    {
      "type": "select",
      "id": "title_alignment",
      "label": "Alignement du titre",
      "options": [
        { "value": "left", "label": "Gauche" },
        { "value": "center", "label": "Centre" },
        { "value": "right", "label": "Droite" }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "spacing_between_blocks",
      "label": "Espacement vertical entre les blocs (px)",
      "min": 8,
      "max": 64,
      "step": 4,
      "default": 24
    },
    {
      "type": "range",
      "id": "margin_top",
      "label": "Marge au-dessus (px)",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 32
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "label": "Marge en dessous (px)",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 32
    }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "Bloc informatif",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icône ou image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Titre",
          "default": "Un avantage clé"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Texte descriptif",
          "default": "Ce bloc vous permet de présenter un argument ou un bénéfice."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Blocs image + texte (2 colonnes)",
      "category": "Contenu"
    }
  ]
}
